import{b as $,u as B,e as I}from"./entry.6922467d.js";import{u as y,a as M}from"./modal.924e5f6a.js";import{o as _,c as b,k as P,f as t,t as a,l as m,w as f,p as L,q as x,Q as A,B as R,R as V,a as u,b as q,m as p,s as v,F as g,i as k,j as S}from"./swiper-vue.520d28f9.js";import{_ as C}from"./_plugin-vue_export-helper.c27b6911.js";import{_ as w}from"./OneCard.539241bd.js";import{u as F}from"./products.84021476.js";import"./MyButton.1f5d35d1.js";import"./favorites.95fdf89f.js";const N={name:"CartProduct",props:{item:{type:Object,default:()=>{}}},setup(){try{const e=y(),o=M();return{cartListStore:e,modalStore:o}}catch(e){console.error("Unhandled error:",e),console.log("CardProduct setup error")}},methods:{handlerRemoveProduct(e){this.cartListStore.removeFromCart(e),this.modalStore.openVoiceModal("Product was removed from cart!",1e3)},increment(e){this.cartListStore.incrementQuantity(e)},decrement(e){this.cartListStore.decrementQuantity(e)}}},Q=e=>(L("data-v-6a5063d8"),e=e(),x(),e),j={class:"cartProduct"},z={class:"cartProduct__img"},D=["src"],E={class:"cartProduct__block"},U={class:"cartProduct__main"},Y={class:"cartProduct__main-titleCard"},W={class:"cartProduct__main-price"},G={class:"cartProduct__info"},H=Q(()=>t("div",{class:"cartProduct__info-color"},[m("color: "),t("span",null,"brown")],-1)),J={class:"cartProduct__info-quantity"},K={class:"cartProduct__info-size"};function X(e,o,c,s,r,n){const l=$;return _(),b(l,{to:`/product/${c.item.id}`},{default:P(()=>[t("div",j,[t("div",z,[t("img",{src:c.item.img,alt:"img"},null,8,D)]),t("div",E,[t("div",U,[t("div",Y,a(c.item.titleCard),1),t("div",W,a(c.item.price)+" $",1)]),t("div",G,[H,t("div",J,[m(" quantity: "),t("button",{class:"cartProduct__info-increment flex-center",type:"button",onClick:o[0]||(o[0]=f(d=>n.increment(c.item.id),["prevent"]))}," + "),t("span",null,a(c.item.amount),1),t("button",{class:"cartProduct__info-decrement flex-center",type:"button",onClick:o[1]||(o[1]=f(d=>n.decrement(c.item.id),["prevent"]))}," - ")]),t("div",K,[m("size(w/h/d): "),t("span",null,a(c.item.width)+"x"+a(c.item.height)+"x"+a(c.item.deep),1)])])]),t("div",{class:"cartProduct__delete",onClick:o[2]||(o[2]=f(d=>n.handlerRemoveProduct(c.item.id),["prevent"]))}," ╳ ")])]),_:1},8,["to"])}const T=C(N,[["render",X],["__scopeId","data-v-6a5063d8"]]),Z=A({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(e,{slots:o,attrs:c}){const s=R(!1);return V(()=>{s.value=!0}),r=>{var h;if(s.value)return(h=o.default)==null?void 0:h.call(o);const n=o.fallback||o.placeholder;if(n)return n();const l=r.fallback||r.placeholder||"",d=r.fallbackTag||r.placeholderTag||"span";return u(d,c,l)}}});const tt={name:"CartList",components:{OneCard:w,CartProduct:T},data(){return{isBtnShow:!1}},setup(){const e=y(),o=q(()=>e.cartList),s=F().products,r=B(),n=I();return{cartList:o,cartListStore:e,recommendList:s,authStore:r,router:n}},methods:{goToCheckOut(){this.authStore.isUserAuthed?this.router.push("/checkOut"):this.authStore.openAuthModal()}}},O=e=>(L("data-v-80485e1b"),e=e(),x(),e),et={class:"cartlist"},ot={class:"cartlist__wrapper"},ct={class:"cartlist__heading"},st=O(()=>t("h4",null,"Your cart",-1)),nt={class:"cartlist__list"},rt={class:"cartlist__empty"},at={class:"cartlist__act"},it={class:"cartlist__act-total"},_t=O(()=>t("h4",{class:""},"You may like",-1)),dt={class:"cartlist__recommendation"};function lt(e,o,c,s,r,n){const l=T,d=w,h=Z;return _(),u("section",et,[t("div",ot,[t("div",ct,[st,p(t("h4",null,[t("span",null,a(s.cartListStore.getTotalElements),1),m(" items")],512),[[v,s.cartList.length]])]),t("ul",nt,[(_(!0),u(g,null,k(s.cartList,i=>(_(),u("li",{key:i.id},[S(l,{item:i},null,8,["item"])]))),128))]),p(t("div",rt," The cart is currently empty ",512),[[v,!s.cartList.length]]),p(t("div",at,[t("div",it,[m(" The total cost:    "),t("span",null,a(s.cartListStore.getTotalSum)+" $",1)]),t("div",null,[t("button",{type:"button",class:"cartlist__act-btn btn",onClick:o[0]||(o[0]=(...i)=>n.goToCheckOut&&n.goToCheckOut(...i))}," Checkout ")])],512),[[v,s.cartList.length]]),_t,t("div",dt,[S(h,null,{default:P(()=>[(_(!0),u(g,null,k(s.recommendList,i=>(_(),b(d,{key:i.id,class:"no-margin-bottom recommendWidth",item:i,"is-btn-show":r.isBtnShow},null,8,["item","is-btn-show"]))),128))]),_:1})])])])}const ut=C(tt,[["render",lt],["__scopeId","data-v-80485e1b"]]),mt={};function ht(e,o){const c=ut;return _(),b(c)}const yt=C(mt,[["render",ht]]);export{yt as default};
